angular.module("templates",[]).run(["$templateCache",function(a){a.put("date-picker.html",'<div class="date-picker"><div class="inputs-wrapper"><input data-target="start" class="start" type="date" ng-model="range.start"> <input data-target="end" class="end" type="date" ng-model="range.end"><div class="inputs-cover" ng-class="{ \'no-border-bottom\': calendar.isPicking }"><span ng-class="{ active: calendar.isPicking === \'start\' }">{{getStart()}}</span> - <span ng-class="{ active: calendar.isPicking === \'end\' }">{{getEnd()}}</span></div></div><div class="calendar" ng-class="{ visible: calendar.isPicking }"><div class="year"><span class="prev" ng-click="calendar.prevYear()"></span> {{calendar.year}} <span class="next" ng-click="calendar.nextYear()"></span></div><div class="months"><span ng-repeat="item in calendar.months" ng-class="{ current: calendar.isCurrentMonth(item.month), selected: calendar.isSelectedMonth(item.month), disabled: calendar.monthIsDisabled(item.month) }" ng-click="calendar.selectDate(item.month)">{{item.name}}</span></div><button class="set-date" ng-click="calendar.setDate()" ng-disabled="calendar.isNotValidRange()">Set Date</button></div></div>')}]),angular.module("monthlyDatePicker",["templates"]).directive("monthlyDatePicker",["$document",function(a){function e(){return moment().format(t)}function n(a){return moment(a,t).toDate()}var t="MM-DD-YYYY";return{restrict:"E",templateUrl:"date-picker.html",scope:{ngModel:"="},require:"ngModel",link:function(r,i,s,c){function o(a){var t=a?a.split(d):[e(),e()];return r.range.start=n(t[0]),r.range.end=n(t[1]),a}var l=i[0].getElementsByClassName("inputs-cover");angular.element(l).on("click",function(){r.calendar.isPicking="start";var a=r.range[r.calendar.isPicking];r.calendar.year=moment(a).format("YYYY"),r.calendar.month=moment(a).format("MM"),r.$$phase||r.$apply()}),a.on("click",function(){r.calendar.isPicking=!1,r.$$phase||r.$apply()}),i.find("*").on("click",function(a){a.stopPropagation()}),r.getStart=function(){return moment(r.range.start).format("MMM YYYY")},r.getEnd=function(){return moment(r.range.end).format("MMM YYYY")};var d=" : ";r.range={start:n(e()),end:n(e())},c.$formatters.push(o),c.$parsers.push(o),r.calendar={isPicking:!1,year:moment().format("YYYY"),month:moment().format("MM"),months:[],nextYear:function(){r.calendar.year=moment(r.calendar.year,"YYYY").add(1,"year").format("YYYY")},prevYear:function(){r.calendar.year=moment(r.calendar.year,"YYYY").subtract(1,"year").format("YYYY")},isCurrentMonth:function(a){return moment().format("YYYY")===r.calendar.year&&moment().format("MM")===a},isSelectedMonth:function(a){return r.calendar.month===a},monthIsDisabled:function(a){if("start"===r.calendar.isPicking)return!1;var e=moment().set("year",r.calendar.year).set("month",parseInt(a)-1).set("date",1).toDate();return r.range.start.getFullYear()===e.getFullYear()&&r.range.start.getMonth()===e.getMonth()||r.range.start>=e},selectDate:function(a){if(!r.calendar.monthIsDisabled(a)){var e=moment().set("year",r.calendar.year).set("month",parseInt(a)-1).set("date",1);r.range[r.calendar.isPicking]=e.toDate(),"start"===r.calendar.isPicking?(r.calendar.isPicking="end",r.calendar.month=moment(r.range.end).format("MM")):(r.calendar.isPicking=!1,r.calendar.setDate())}},isNotValidRange:function(){return r.range.end<r.range.start},setDate:function(){if(!r.calendar.isNotValidRange()){r.calendar.isPicking=!1;var a=moment(r.range.start).format(t)+d+moment(r.range.end).endOf("month").format(t);c.$setViewValue(a)}}},moment.monthsShort().forEach(function(a){r.calendar.months.push({month:moment().month(a).format("MM"),name:a})})}}}]);