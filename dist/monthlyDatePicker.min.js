angular.module("templates",[]).run(["$templateCache",function(e){e.put("date-picker.html",'<div class="date-picker"><div class="inputs-wrapper"><input data-target="start" class="start" type="date" ng-model="range.start"> <input data-target="end" class="end" type="date" ng-model="range.end"><div class="inputs-cover" ng-class="{ \'no-border-bottom\': calendar.isPicking }"><span ng-class="{ active: calendar.isPicking === \'start\' }">{{getStart()}}</span> - <span ng-class="{ active: calendar.isPicking === \'end\' }">{{getEnd()}}</span></div></div><div class="calendar" ng-class="{ visible: calendar.isPicking }"><div class="year"><span class="prev" ng-click="calendar.prevYear()"></span> {{calendar.year}} <span class="next" ng-click="calendar.nextYear()"></span></div><div class="months"><span ng-repeat="item in calendar.months" ng-class="{ current: calendar.isCurrentMonth(item.month), selected: calendar.isSelectedMonth(item.month), disabled: calendar.monthIsDisabled(item.month) }" ng-click="calendar.selectDate(item.month)">{{item.name}}</span></div><div class="set-date" ng-click="calendar.setDate()">Set Date</div></div></div>')}]),angular.module("monthlyDatePicker",["templates"]).directive("monthlyDatePicker",["$document",function(e){function a(){return moment().format(t)}function n(e){return moment(e,t).toDate()}var t="MM-DD-YYYY";return{restrict:"E",templateUrl:"date-picker.html",scope:{ngModel:"="},require:"ngModel",link:function(r,s,c,i){function o(e){var t=e?e.split(m):[a(),a()];return r.range.start=n(t[0]),r.range.end=n(t[1]),e}var l=s[0].getElementsByClassName("inputs-cover");angular.element(l).on("click",function(){r.calendar.isPicking="start";var e=r.range[r.calendar.isPicking];r.calendar.year=moment(e).format("YYYY"),r.calendar.month=moment(e).format("MM"),r.$$phase||r.$apply()}),e.on("click",function(){r.calendar.isPicking=!1,r.$$phase||r.$apply()}),s.find("*").on("click",function(e){e.stopPropagation()}),r.getStart=function(){return moment(r.range.start).format("MMM YYYY")},r.getEnd=function(){return moment(r.range.end).format("MMM YYYY")};var m=" : ";r.range={start:n(a()),end:n(a())},i.$formatters.push(o),i.$parsers.push(o),r.calendar={isPicking:!1,year:moment().format("YYYY"),month:moment().format("MM"),months:[],nextYear:function(){r.calendar.year=moment(r.calendar.year,"YYYY").add(1,"year").format("YYYY")},prevYear:function(){r.calendar.year=moment(r.calendar.year,"YYYY").subtract(1,"year").format("YYYY")},isCurrentMonth:function(e){return moment().format("YYYY")===r.calendar.year&&moment().format("MM")===e},isSelectedMonth:function(e){return r.calendar.month===e},monthIsDisabled:function(e){if("start"===r.calendar.isPicking)return!1;var a=moment().set("year",r.calendar.year).set("month",parseInt(e)-1).set("date",1).toDate();return r.range.start.getFullYear()===a.getFullYear()&&r.range.start.getMonth()===a.getMonth()||r.range.start>=a},selectDate:function(e){if(!r.calendar.monthIsDisabled(e)){var a=moment().set("year",r.calendar.year).set("month",parseInt(e)-1).set("date",1);r.range[r.calendar.isPicking]=a.toDate(),"start"===r.calendar.isPicking?(r.calendar.isPicking="end",r.calendar.month=moment(r.range.end).format("MM")):(r.calendar.isPicking=!1,r.calendar.setDate())}},setDate:function(){r.calendar.isPicking=!1;var e=moment(r.range.start).format(t)+m+moment(r.range.end).format(t);i.$setViewValue(e)}},moment.monthsShort().forEach(function(e){r.calendar.months.push({month:moment().month(e).format("MM"),name:e})})}}}]);